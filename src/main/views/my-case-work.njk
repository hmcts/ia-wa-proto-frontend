{% extends "template.njk" %}

{% from "components/status-bar.njk" import statusBar with context %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/table/macro.njk" import govukTable %}

{% block pageTitle %}GOV.UK - WA prototype frontend{% endblock %}

{% block header %}
  <a href="#" class="sign-out-button">Sign Out</a>
  {{ govukHeader({
    homepageUrl: "/",
    containerClasses: "app-width-container",
    serviceName: "Immigration & Asylum",
    serviceUrl: "/",
    navigation: [
      {
        href: "/",
        text: "My cases"
      },
      {
        href: "/my-case-work",
        text: "My casework",
        active: true
      },
      {
        href: "#",
        text: "All cases"
      }
    ]
  }) }}
{% endblock %}

{% block content %}
  
<div class="govuk-grid-row">
  <div class="govuk-grid-column-one-half">
    <h1 class="govuk-heading-xl">My casework</h1>      
  </div>
</div>
<div class="govuk-grid-row">
  <div class="govuk-grid-column-one-half">
    <h1 class="govuk-heading-l">My tasks</h1>      
  </div>
</div>


{% set caseRef %}
  <a href="#" class="govuk-link">{{ task.caseRef }}</a>
{% endset %}

{% set caseName %}
  <b>{{ task.caseName }}</b>
{% endset %}

{% set taskTodayDate %}
  <div class="task-date govuk-heading-s govuk-!-font-weight-regular">{{ task.date }}</div>
{% endset %}

{% set taskNoTodayDate %}
  <div class="task-date--green govuk-heading-s govuk-!-font-weight-regular">04 May</div>
{% endset %}

{{ govukTable({
  firstCellIsHeader: true,
  head: [
    {
      text: "Case reference",
      classes: "my-task-header"
    },
    {
      text: "Case name",
      classes: "my-task-header"
    },
    {
      text: "Case category",
      classes: "my-task-header"
    },
    {
      text: "Location",
      classes: "my-task-header"
    },
    {
      text: "Task",
      classes: "my-task-header"
    },
    {
      text: "Date",
      classes: "my-task-header"
    }
  ],
  rows: [
    [
      {
        html: caseRef
      },
      {
        html: caseName
      },
      {
        text: task.caseCategory
      },
      {
        text: task.location
      },
      {
        text: task.taskName
      },
      {
        html: taskTodayDate,
        classes: "govuk-!-padding-bottom-0"
      }
    ],
    [
      {
        html: caseRef
      },
      {
        html: caseName
      },
      {
        text: task.caseCategory
      },
      {
        text: task.location
      },
      {
        text: task.taskName
      },
      {
        html: taskNoTodayDate,
        classes: "govuk-!-padding-bottom-0"
      }
    ],
    [
      {
        html: caseRef
      },
      {
        html: caseName
      },
      {
        text: task.caseCategory
      },
      {
        text: task.location
      },
      {
        text: task.taskName
      },
      {
        html: taskNoTodayDate,
        classes: "govuk-!-padding-bottom-0"
      }
    ]
  ]
}) }}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-one-half">
      <h1 class="govuk-heading-l">My available tasks</h1>
  </div>
</div>
  
{% endblock %}
